

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Quick start &mdash; Ersilia  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Model deployment" href="deployment.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Ersilia
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Learn about Ersilia!</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#select-your-model">Select your model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-on-a-web-app">Run on a web app</a></li>
<li class="toctree-l2"><a class="reference internal" href="#run-programmatically">Run programmatically</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#command-line-interface-cli">Command-line interface (CLI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#python-console">Python console</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fetch-and-initialize-model">Fetch and initialize model</a></li>
<li class="toctree-l4"><a class="reference internal" href="#run-prediction">Run prediction</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">Model deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../package.html">Package index</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Ersilia</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Quick start</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/source/fetched/usage.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="quick-start">
<h1>Quick start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h1>
<p><strong>This section is work in progress! Please don’t try to run code as of yet. We should be done in the following weeks.</strong></p>
<div class="section" id="select-your-model">
<h2>Select your model<a class="headerlink" href="#select-your-model" title="Permalink to this headline">¶</a></h2>
<p>In this quick-start guide, we will run antibiotic activity predictions for small molecule compounds as an example.</p>
<p>You can browse available models from the <a class="reference external" href="https://ersilia-os.github.io/ersilia-hub.github.io/">Ersilia model hub</a>. Browse by simply using keyword search or define the model you are interested in by using the following categories</p>
<ul class="simple">
<li>input: type of data you have <em>molecule, DNA, RNA, protein, image, text</em></li>
<li>endpoint: prediction of your interest <em>toxicity, drug-target interaction, cell sensitivity, synthetic accessibiity…</em></li>
<li>application: focus on a certain disease, if applicable <em>cancer, malaria, HIV, COVID19…</em></li>
</ul>
<p>In this example, the model is classified as:</p>
<ul class="simple">
<li>input: molecule</li>
<li>endpoint: antibiotic activity</li>
<li>application: infectious disease</li>
</ul>
<p>Models in Ersilia are identified with the following ID structure: <code class="docutils literal notranslate"><span class="pre">eos{digit}{3</span> <span class="pre">alphanumeric</span> <span class="pre">characters}</span></code>. Please, use this ID when citing our models.</p>
<p>In this example, ID for the <a class="reference external" href="https://ersilia-os.github.io/ersilia-hub.github.io/first-gemma-post/">antibiotic activity</a> model is eos0aaa</p>
<p>Our model hub includes both models developed by Ersilia as well as models available from the literature (third party authorship). In the latter, Ersilia re trains the models if needed and bundles them for easy deployment. Appropriate author citations are always included.</p>
<p>The antibiotic predictor is based on <a class="reference external" href="https://pubmed.ncbi.nlm.nih.gov/32084340/">Stokes et al. Cell, 2020</a>. Authors kindly shared to the community the model checkpoint.</p>
</div>
<div class="section" id="run-on-a-web-app">
<h2>Run on a web app<a class="headerlink" href="#run-on-a-web-app" title="Permalink to this headline">¶</a></h2>
<p>Once you identify the models you want to use, simply click on them to find a summary of the most important features (e.g how many datapoints were used for training, whether it was experimentally validated, its application domain…) It is important to keep in mind the Limitations of each model. At Ersilia we do our best to summarize the most important, but it is up to each user to understand their data and the scope of the chosen models. If you need help, please contact us at <a class="reference external" href="mailto:hello&#37;&#52;&#48;ersilia&#46;io">hello<span>&#64;</span>ersilia<span>&#46;</span>io</a>.</p>
<p>For eos0aaa we have created the following summary and limitations list:</p>
<p>Summary</p>
<ul class="simple">
<li>Predicts <strong>antibiotic activity</strong></li>
<li>Takes <strong>compound structures</strong> as input</li>
<li>Trained with <strong>experimental</strong> bioactivity data against E.coli</li>
<li>Based on a dataset of <strong>&gt;2,000</strong> experiments</li>
<li>Results validated <strong>experimentally</strong></li>
<li>Used for <strong>drug repurposing</strong></li>
<li>Identified a <strong>novel broad-spectrum</strong> antibiotic</li>
<li>Published in <em>Stokes et al., Cell 2020</em></li>
</ul>
<p>Limitations</p>
<ul class="simple">
<li>Training set using only <em>E.coli</em> data, not other organisms</li>
<li>Predicts antibiotic activity against a pathogen, not valid for host targets</li>
<li>Ersilia retrained the model on-premise using the published datasets</li>
</ul>
<p>To use our models, you can query a single input at a time using our website app or, if you are familiar with coding, you can download and install it in your computer following the installation instructions.</p>
<p>To open the website app, go to the [button] at the top of the model card.</p>
</div>
<div class="section" id="run-programmatically">
<h2>Run programmatically<a class="headerlink" href="#run-programmatically" title="Permalink to this headline">¶</a></h2>
<div class="section" id="command-line-interface-cli">
<h3>Command-line interface (CLI)<a class="headerlink" href="#command-line-interface-cli" title="Permalink to this headline">¶</a></h3>
<p>Ersilia models are stored as BentoML bundles. Hence one can use the outstanding functionalities of this library to deploy models.</p>
<p>To fetch a BentoML bundle from our repository using the CLI, simply run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ersilia fetch eos0aaa
</pre></div>
</div>
<p>Now, you can serve predictions the way you wish. BentoML offers a great spectrum of possibilities and Ersilia incorporates all of them.
For example, you can simply run to obtain predictions for the drug Halicin:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ersilia predict eos0aaa --input<span class="o">=</span><span class="s1">&#39;[&quot;C1=C(SC(=N1)SC2=NN=C(S2)N)[N+](=O)[O-]&quot;]&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="python-console">
<h3>Python console<a class="headerlink" href="#python-console" title="Permalink to this headline">¶</a></h3>
<div class="section" id="fetch-and-initialize-model">
<h4>Fetch and initialize model<a class="headerlink" href="#fetch-and-initialize-model" title="Permalink to this headline">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ersilia</span> <span class="kn">import</span> <span class="n">ErsiliaModel</span>
<span class="n">model_id</span> <span class="o">=</span> <span class="s1">&#39;eos0aaa&#39;</span>
<span class="n">em</span> <span class="o">=</span> <span class="n">ErsiliaModel</span><span class="p">(</span><span class="n">model_id</span><span class="p">)</span>
</pre></div>
</div>
<p>What happens behind this code is the following:</p>
<ol class="simple">
<li>The model of interest (<code class="docutils literal notranslate"><span class="pre">eos0aaa</span></code>) is fetched from:<ul>
<li>A <a class="reference external" href="https://github.com/ersilia-os/eos0aaa">GitHub repository</a> containing, <em>at least</em>:<ul>
<li>A <code class="docutils literal notranslate"><span class="pre">service.py</span></code> script defining the serving class (i.e. the class that will provide predictions)</li>
<li>A <code class="docutils literal notranslate"><span class="pre">pack.py</span></code> script that will generate a model bundle for easy deployment, based on <a class="reference external" href="https://www.bentoml.ai/">BentoML</a></li>
</ul>
</li>
<li>A compressed file, stored at <a class="reference external" href="https://osf.io/hu3km/">Open Science Framework (OSF)</a> containing model checkpoint files, i.e. the trained parameters of the model</li>
</ul>
</li>
<li>A <code class="docutils literal notranslate"><span class="pre">~/bentoml/repository/eos0aaa/</span></code> folder is created containing the bundled model (see BentoML docs for more details)</li>
<li>A <code class="docutils literal notranslate"><span class="pre">pip</span></code> package named <code class="docutils literal notranslate"><span class="pre">eos0aaa</span></code> is created in your local computer</li>
</ol>
<p>The fetching functionalities of Ersilia are configurable. Please see advanced usage cases for more details.</p>
</div>
<div class="section" id="run-prediction">
<h4>Run prediction<a class="headerlink" href="#run-prediction" title="Permalink to this headline">¶</a></h4>
<p>Once the model is ready, one can simply run predictions for the molecules of interest. Let’s say that we want to predict the antibiotic activity of:
The standard input are SMILES strings.</p>
<ul class="simple">
<li>Ceftazidime: <code class="docutils literal notranslate"><span class="pre">[O-]C(=O)C1=C(CS[C&#64;]2([H])[C&#64;H](NC(=O)C(=N/OC(C)(C)C(O)=O)\C3=CSC(N)=N3)C(=O)N12)C[N+]1=CC=CC=C1</span></code></li>
<li>Halicin: <code class="docutils literal notranslate"><span class="pre">C1=C(SC(=N1)SC2=NN=C(S2)N)[N+](=O)[O-]</span></code></li>
<li>Ibuprofen: <code class="docutils literal notranslate"><span class="pre">CC(C)CC1=CC=C(C=C1)C(C)C(O)=O</span></code></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">smiles</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;[O-]C(=O)C1=C(CS[C@]2([H])[C@H](NC(=O)C(=N/OC(C)(C)C(O)=O)\C3=CSC(N)=N3)C(=O)N12)C[N+]1=CC=CC=C1&#39;</span><span class="p">,</span>
          <span class="s1">&#39;C1=C(SC(=N1)SC2=NN=C(S2)N)[N+](=O)[O-]&#39;</span><span class="p">,</span>
          <span class="s1">&#39;CC(C)CC1=CC=C(C=C1)C(C)C(O)=O&#39;</span><span class="p">]</span>
<span class="n">em</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">smiles</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="deployment.html" class="btn btn-neutral float-right" title="Model deployment" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Ersilia Open Source Initiative.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>